(this["webpackJsonprss-reader"]=this["webpackJsonprss-reader"]||[]).push([[0],{144:function(e,t,r){},145:function(e,t,r){},152:function(e,t){},154:function(e,t){},176:function(e,t){},206:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),s=r(121),o=r.n(s),c=(r(144),r(257)),i=r(255),d=(r(145),r(122)),l=r.n(d);var b=r(256),j=r(251),u=r(2);const h=e=>{let{feedTitle:t,rssFeedItem:r,onItemClick:n}=e;const s=Object(a.useCallback)((()=>{null===n||void 0===n||n(r)}),[n,r]),o=Object(a.useMemo)((()=>Object(j.a)(new Date(r.isoDate),"PPpp")),[r.isoDate]);return Object(u.jsxs)(i.a,{onClick:s,padding:1,sx:{backgroundColor:"#E6E5E5",borderWidth:"thin",borderStyle:"solid",borderColor:"#B8B8B8",borderRadius:"10px",cursor:"pointer",textAlign:"left"},children:[Object(u.jsx)(b.a,{fontWeight:"bold",variant:"body1",children:r.title}),Object(u.jsx)(b.a,{variant:"caption",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:r.contentSnippet}),Object(u.jsx)(b.a,{alignSelf:"end",variant:"caption",children:o})]})};var x=r(254);const O=Object(a.memo)((()=>Object(u.jsxs)(i.a,{spacing:1,children:[Object(u.jsx)(x.a,{variant:"rectangular",height:60}),Object(u.jsx)(x.a,{variant:"rectangular",height:60}),Object(u.jsx)(x.a,{variant:"rectangular",height:60}),Object(u.jsx)(x.a,{variant:"rectangular",height:60}),Object(u.jsx)(x.a,{variant:"rectangular",height:60}),Object(u.jsx)(x.a,{variant:"rectangular",height:60}),Object(u.jsx)(x.a,{variant:"rectangular",height:60})]})));O.displayName="LoadingSkeleton";const g=e=>{let{onRssFeedItemClick:t,feedUrls:r}=e;const{feeds:n,loading:s,error:o}=(e=>{const[t,r]=Object(a.useState)([]),[n,s]=Object(a.useState)(!0),[o,c]=Object(a.useState)(null);return Object(a.useEffect)((()=>{(async()=>{try{s(!0),c(null);const t=new l.a,a=e.map((async e=>{try{return await t.parseURL("https://corsanywhere-1990.onrender.com/"+e)}catch(r){return console.error("Error parsing feed from ".concat(e,":"),r),null}})),n=(await Promise.all(a)).filter(Boolean);r(n),s(!1),c(null)}catch(o){r([]),s(!1),c("Error fetching RSS feeds")}})()}),[e]),{feeds:t,loading:n,error:o}})(r);return s?Object(u.jsx)(O,{}):o?Object(u.jsx)(b.a,{fontWeight:"bold",variant:"h5",children:"Error: ".concat(o)}):Object(u.jsxs)(i.a,{children:[0===n.length&&Object(u.jsx)(b.a,{variant:"h6",children:"No results found."}),n.map(((e,r)=>Object(u.jsxs)(a.Fragment,{children:[0===e.items.length&&Object(u.jsx)(b.a,{variant:"h6",children:"No results found."}),e.items.map((r=>Object(u.jsx)(h,{feedTitle:e.title,rssFeedItem:r,onItemClick:t},r.isoDate)))]},r)))]})};var p=r(252),v=r(127),f=r.n(v),m=r(128),C=r.n(m);const k=e=>{let{step:t,onAdd:r,onGoBack:a}=e;return Object(u.jsxs)(i.a,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:["listFeed"===t&&Object(u.jsx)(b.a,{variant:"body2",children:"Feeder"}),"addFeed"===t&&Object(u.jsx)(b.a,{variant:"body2",children:"Add Feed"}),"listFeed"===t&&Object(u.jsx)(p.a,{sx:{width:"30px",height:"30px",borderRadius:0,backgroundColor:"#E6E5E5"},onClick:r,children:Object(u.jsx)(f.a,{})}),"listFeed"!==t&&Object(u.jsx)(p.a,{sx:{width:"30px",height:"30px",borderRadius:0,backgroundColor:"#E6E5E5"},onClick:a,children:Object(u.jsx)(C.a,{})})]})};var y=r(250),w=r(129),F=r.n(w);const B=e=>{let{rssFeedUrl:t,onChangeRssFeedUrl:r,feedUrls:a,onDelete:n,onAddRssFeedUrl:s}=e;return Object(u.jsxs)(i.a,{children:[Object(u.jsxs)(i.a,{flexDirection:"row",justifyContent:"space-between",padding:2,sx:{backgroundColor:"#E6E5E5",borderWidth:"thin",borderStyle:"solid",borderColor:"#B8B8B8",borderRadius:"10px"},children:[Object(u.jsx)(b.a,{variant:"body2",children:"Feed URL"}),Object(u.jsx)(y.a,{fullWidth:!0,value:t,variant:"outlined",size:"small",type:"url",onKeyDown:e=>{"Enter"===e.key&&s()},onChange:e=>r(e.target.value)})]}),Object(u.jsx)(i.a,{padding:3,sx:{backgroundColor:"#E6E5E5",borderWidth:"thin",borderStyle:"solid",borderColor:"#B8B8B8",borderRadius:"10px"},children:Object(u.jsx)(i.a,{sx:{backgroundColor:"white",borderWidth:"thin",borderStyle:"solid",borderColor:"#B8B8B8",borderRadius:"10px"},padding:1,children:a.map(((e,t)=>Object(u.jsxs)(i.a,{alignItems:"center",flexDirection:"row",justifyContent:"space-between",sx:{borderWidth:"thin",borderBottomStyle:"solid",borderBottomColor:"#B8B8B8"},children:[Object(u.jsx)(b.a,{variant:"body2",sx:{wordBreak:"break-all"},children:e}),Object(u.jsx)(p.a,{onClick:()=>null===n||void 0===n?void 0:n(t),children:Object(u.jsx)(F.a,{color:"error"})})]},t)))})})]})},E=e=>{var t;let{rssFeedItem:r}=e;return Object(u.jsxs)(i.a,{sx:{backgroundColor:"#E6E5E5",borderWidth:"medium",borderStyle:"solid",borderColor:"#B8B8B8",borderRadius:"10px",textAlign:"left",padding:2},spacing:3,children:[Object(u.jsxs)(i.a,{children:[Object(u.jsx)(b.a,{variant:"body2",children:Object(j.a)(new Date(r.isoDate),"PPpp")}),Object(u.jsx)(b.a,{variant:"h5",fontWeight:"bold",children:r.title}),(r.author||r.creator)&&Object(u.jsx)(b.a,{variant:"body2",children:"By ".concat(null===(t=r.author||r.creator)||void 0===t?void 0:t.replace("/u/",""))})]}),Object(u.jsx)(b.a,{variant:"body2",sx:{overflow:"auto"},dangerouslySetInnerHTML:{__html:r.content}})]})},S=[];var I=function(){const[e,t]=Object(a.useState)("listFeed"),[r,n]=Object(a.useState)(),[s,o]=Object(a.useState)(""),[d,l]=Object(a.useState)(),{updateValue:b,value:j,getValue:h}=(e=>{const[t,r]=Object(a.useState)(e);return{value:t,updateValue:Object(a.useCallback)(((e,t)=>{r(t),localStorage.setItem(e,JSON.stringify(t))}),[]),getValue:Object(a.useCallback)((t=>{const a=localStorage.getItem(t),n=a?JSON.parse(a):e;r(n)}),[e])}})(S);var x;x=Object(a.useCallback)((e=>{const t=e.data;"ovice_participant_joined"!==t.type&&"ovice_participant_subscribed"!==t.type||(l(t.payload.objectId),h("rss-reader-".concat(t.payload.objectId)))}),[h]),Object(a.useEffect)((()=>{const e=e=>{x(e)};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[x]);const O=Object(a.useCallback)((()=>{t("addFeed")}),[]),p=Object(a.useCallback)((()=>{t("listFeed")}),[]),v=Object(a.useCallback)((e=>{n(e),t("viewItem")}),[]),f=Object(a.useCallback)((()=>{if(!s.trim())return;const e=[...j];e.push(s),b("rss-reader-".concat(d),e),o("")}),[j,d,s,b]),m=Object(a.useCallback)((e=>{const t=[...j];t.splice(e,1),b("rss-reader-".concat(d),t)}),[j,d,b]);return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(c.a,{maxWidth:"sm",sx:{backgroundColor:"white"},children:Object(u.jsxs)(i.a,{spacing:1,padding:1,children:[Object(u.jsx)(k,{step:e,onAdd:O,onGoBack:p}),"addFeed"===e&&Object(u.jsx)(B,{onAddRssFeedUrl:f,rssFeedUrl:s,onChangeRssFeedUrl:o,feedUrls:j,onDelete:m}),"listFeed"===e&&Object(u.jsx)(g,{feedUrls:j,onRssFeedItemClick:v}),"viewItem"===e&&r&&Object(u.jsx)(E,{rssFeedItem:r})]})})})};var R=e=>{e&&e instanceof Function&&r.e(3).then(r.bind(null,258)).then((t=>{let{getCLS:r,getFID:a,getFCP:n,getLCP:s,getTTFB:o}=t;r(e),a(e),n(e),s(e),o(e)}))};o.a.createRoot(document.getElementById("root")).render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(I,{})})),R()}},[[206,1,2]]]);
//# sourceMappingURL=main.06e4754c.chunk.js.map